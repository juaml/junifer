
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/run_datagrabber_bids_datalad.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_run_datagrabber_bids_datalad.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_run_datagrabber_bids_datalad.py:


Generic BIDS datagrabber for datalad.
=====================================

This example uses a generic BIDS datagraber to get the data from a BIDS dataset
store in a datalad remote sibling.

Authors: Federico Raimondo

License: BSD 3 clause

.. GENERATED FROM PYTHON SOURCE LINES 12-16

.. code-block:: default


    from junifer.datagrabber.base import BIDSDataladDataGrabber
    from junifer.utils import configure_logging








.. GENERATED FROM PYTHON SOURCE LINES 17-18

Set the logging level to info to see extra information

.. GENERATED FROM PYTHON SOURCE LINES 18-21

.. code-block:: default

    configure_logging(level='INFO')






.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    2022-09-09 15:09:24,363 - JUNIFER - INFO - ===== Lib Versions =====
    2022-09-09 15:09:24,364 - JUNIFER - INFO - numpy: 1.21.6
    2022-09-09 15:09:24,364 - JUNIFER - INFO - junifer: 0.0.1.dev45
    2022-09-09 15:09:24,364 - JUNIFER - INFO - ========================




.. GENERATED FROM PYTHON SOURCE LINES 22-24

The BIDS datagrabber requires two parameters: the types of data we want,
and the specific pattern that matches each type.

.. GENERATED FROM PYTHON SOURCE LINES 24-30

.. code-block:: default

    types = ['T1w', 'bold']
    patterns = {
        'T1w': 'anat/{subject}_T1w.nii.gz',
        'bold': 'func/{subject}_task-rest_bold.nii.gz'
    }








.. GENERATED FROM PYTHON SOURCE LINES 31-33

Additionally, a datalad datagrabber requires the URI of the remote sibling
and the location of the dataset within the remote sibling.

.. GENERATED FROM PYTHON SOURCE LINES 33-36

.. code-block:: default

    repo_uri = 'https://gin.g-node.org/juaml/datalad-example-bids'
    rootdir = 'example_bids'








.. GENERATED FROM PYTHON SOURCE LINES 37-40

Now we can use the datagrabber within a `with` context
One thing we can do with any datagrabber is iterate over the elements.
In this case, each element of the datagrabber is one session.

.. GENERATED FROM PYTHON SOURCE LINES 40-45

.. code-block:: default

    with BIDSDataladDataGrabber(rootdir=rootdir, types=types,
                                patterns=patterns, uri=repo_uri) as dg:
        for elem in dg:
            print(elem)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    2022-09-09 15:09:24,365 - JUNIFER - WARNING - datadir is None, creating a temporary directory
    2022-09-09 15:09:24,365 - JUNIFER - INFO - datadir set to /tmp/tmpn3nlk9n_
    sub-06
    sub-01
    sub-07
    sub-09
    sub-02
    sub-03
    sub-04
    sub-05
    sub-08




.. GENERATED FROM PYTHON SOURCE LINES 46-49

Another feature of the datagrabber is the ability to get a specific
element by its name. In this case, we index `sub-01` and we get the file
paths for the two types of data we want (T1w and bold).

.. GENERATED FROM PYTHON SOURCE LINES 49-53

.. code-block:: default

    with BIDSDataladDataGrabber(rootdir=rootdir, types=types,
                                patterns=patterns, uri=repo_uri) as dg:
        sub01 = dg['sub-01']
        print(sub01)




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    2022-09-09 15:09:26,771 - JUNIFER - WARNING - datadir is None, creating a temporary directory
    2022-09-09 15:09:26,772 - JUNIFER - INFO - datadir set to /tmp/tmputmbx_1w
    {'T1w': {'path': PosixPath('/tmp/tmputmbx_1w/example_bids/sub-01/anat/sub-01_T1w.nii.gz')}, 'bold': {'path': PosixPath('/tmp/tmputmbx_1w/example_bids/sub-01/func/sub-01_task-rest_bold.nii.gz')}}





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  6.627 seconds)


.. _sphx_glr_download_auto_examples_run_datagrabber_bids_datalad.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: run_datagrabber_bids_datalad.py <run_datagrabber_bids_datalad.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: run_datagrabber_bids_datalad.ipynb <run_datagrabber_bids_datalad.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
