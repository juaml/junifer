
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/run_run_gmd_mean.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_run_run_gmd_mean.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_run_run_gmd_mean.py:


UKB VBM GMD Extraction
======================

Authors: Federico Raimondo

License: BSD 3 clause

.. GENERATED FROM PYTHON SOURCE LINES 9-54




.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Added README.md to /github/home/nilearn_data


    Dataset created in /github/home/nilearn_data/oasis1

    Downloading data from https://www.nitrc.org/frs/download.php/6364/archive_dartel.tgz ...
    Downloaded 28491776 of 905208634 bytes (3.1%,   31.1s remaining)    Downloaded 79765504 of 905208634 bytes (8.8%,   20.8s remaining)    Downloaded 131547136 of 905208634 bytes (14.5%,   17.8s remaining)    Downloaded 182517760 of 905208634 bytes (20.2%,   16.1s remaining)    Downloaded 234176512 of 905208634 bytes (25.9%,   14.6s remaining)    Downloaded 285171712 of 905208634 bytes (31.5%,   13.3s remaining)    Downloaded 335814656 of 905208634 bytes (37.1%,   12.1s remaining)    Downloaded 385040384 of 905208634 bytes (42.5%,   11.0s remaining)    Downloaded 406421504 of 905208634 bytes (44.9%,   11.2s remaining)    Downloaded 410435584 of 905208634 bytes (45.3%,   12.3s remaining)    Downloaded 411467776 of 905208634 bytes (45.5%,   13.4s remaining)    Downloaded 412573696 of 905208634 bytes (45.6%,   14.6s remaining)    Downloaded 413376512 of 905208634 bytes (45.7%,   15.7s remaining)    Downloaded 414146560 of 905208634 bytes (45.8%,   16.8s remaining)    Downloaded 415096832 of 905208634 bytes (45.9%,   18.0s remaining)    Downloaded 416202752 of 905208634 bytes (46.0%,   19.1s remaining)    Downloaded 417480704 of 905208634 bytes (46.1%,   20.1s remaining)    Downloaded 418914304 of 905208634 bytes (46.3%,   21.1s remaining)    Downloaded 420536320 of 905208634 bytes (46.5%,   22.2s remaining)    Downloaded 422322176 of 905208634 bytes (46.7%,   23.1s remaining)    Downloaded 424435712 of 905208634 bytes (46.9%,   24.0s remaining)    Downloaded 427417600 of 905208634 bytes (47.2%,   24.9s remaining)    Downloaded 431611904 of 905208634 bytes (47.7%,   25.5s remaining)    Downloaded 437387264 of 905208634 bytes (48.3%,   25.9s remaining)    Downloaded 445186048 of 905208634 bytes (49.2%,   26.1s remaining)    Downloaded 455557120 of 905208634 bytes (50.3%,   25.9s remaining)    Downloaded 469016576 of 905208634 bytes (51.8%,   25.4s remaining)    Downloaded 486006784 of 905208634 bytes (53.7%,   24.4s remaining)    Downloaded 506085376 of 905208634 bytes (55.9%,   23.1s remaining)    Downloaded 514269184 of 905208634 bytes (56.8%,   23.0s remaining)    Downloaded 516300800 of 905208634 bytes (57.0%,   23.6s remaining)    Downloaded 517283840 of 905208634 bytes (57.1%,   24.2s remaining)    Downloaded 518070272 of 905208634 bytes (57.2%,   24.9s remaining)    Downloaded 518545408 of 905208634 bytes (57.3%,   25.6s remaining)    Downloaded 519061504 of 905208634 bytes (57.3%,   26.3s remaining)    Downloaded 519749632 of 905208634 bytes (57.4%,   27.0s remaining)    Downloaded 520609792 of 905208634 bytes (57.5%,   27.6s remaining)    Downloaded 521617408 of 905208634 bytes (57.6%,   28.2s remaining)    Downloaded 522797056 of 905208634 bytes (57.8%,   28.8s remaining)    Downloaded 524148736 of 905208634 bytes (57.9%,   29.4s remaining)    Downloaded 525721600 of 905208634 bytes (58.1%,   29.9s remaining)    Downloaded 526917632 of 905208634 bytes (58.2%,   30.5s remaining)    Downloaded 527785984 of 905208634 bytes (58.3%,   31.1s remaining)    Downloaded 528252928 of 905208634 bytes (58.4%,   31.8s remaining)    Downloaded 528695296 of 905208634 bytes (58.4%,   32.4s remaining)    Downloaded 529113088 of 905208634 bytes (58.5%,   33.1s remaining)    Downloaded 529555456 of 905208634 bytes (58.5%,   33.8s remaining)    Downloaded 530137088 of 905208634 bytes (58.6%,   34.4s remaining)    Downloaded 530882560 of 905208634 bytes (58.6%,   35.0s remaining)    Downloaded 531791872 of 905208634 bytes (58.7%,   35.6s remaining)    Downloaded 532873216 of 905208634 bytes (58.9%,   36.1s remaining)    Downloaded 534118400 of 905208634 bytes (59.0%,   36.6s remaining)    Downloaded 535527424 of 905208634 bytes (59.2%,   37.1s remaining)    Downloaded 537141248 of 905208634 bytes (59.3%,   37.5s remaining)    Downloaded 538591232 of 905208634 bytes (59.5%,   37.9s remaining)    Downloaded 540286976 of 905208634 bytes (59.7%,   38.3s remaining)    Downloaded 541450240 of 905208634 bytes (59.8%,   38.8s remaining)    Downloaded 542375936 of 905208634 bytes (59.9%,   39.3s remaining)    Downloaded 543096832 of 905208634 bytes (60.0%,   39.8s remaining)    Downloaded 543834112 of 905208634 bytes (60.1%,   40.4s remaining)    Downloaded 544718848 of 905208634 bytes (60.2%,   40.9s remaining)    Downloaded 545775616 of 905208634 bytes (60.3%,   41.3s remaining)    Downloaded 547004416 of 905208634 bytes (60.4%,   41.8s remaining)    Downloaded 548405248 of 905208634 bytes (60.6%,   42.1s remaining)    Downloaded 549978112 of 905208634 bytes (60.8%,   42.5s remaining)    Downloaded 551698432 of 905208634 bytes (60.9%,   42.8s remaining)    Downloaded 553836544 of 905208634 bytes (61.2%,   43.0s remaining)    Downloaded 555671552 of 905208634 bytes (61.4%,   43.3s remaining)    Downloaded 556482560 of 905208634 bytes (61.5%,   43.8s remaining)    Downloaded 557178880 of 905208634 bytes (61.6%,   44.3s remaining)    Downloaded 557965312 of 905208634 bytes (61.6%,   44.7s remaining)    Downloaded 558546944 of 905208634 bytes (61.7%,   45.2s remaining)    Downloaded 558948352 of 905208634 bytes (61.7%,   45.8s remaining)    Downloaded 559464448 of 905208634 bytes (61.8%,   46.3s remaining)    Downloaded 560005120 of 905208634 bytes (61.9%,   46.8s remaining)    Downloaded 560619520 of 905208634 bytes (61.9%,   47.3s remaining)    Downloaded 561373184 of 905208634 bytes (62.0%,   47.7s remaining)    Downloaded 562290688 of 905208634 bytes (62.1%,   48.1s remaining)    Downloaded 563388416 of 905208634 bytes (62.2%,   48.5s remaining)    Downloaded 564641792 of 905208634 bytes (62.4%,   48.8s remaining)    Downloaded 566075392 of 905208634 bytes (62.5%,   49.1s remaining)    Downloaded 567623680 of 905208634 bytes (62.7%,   49.3s remaining)    Downloaded 568729600 of 905208634 bytes (62.8%,   49.7s remaining)    Downloaded 569786368 of 905208634 bytes (62.9%,   50.0s remaining)    Downloaded 570916864 of 905208634 bytes (63.1%,   50.4s remaining)    Downloaded 571580416 of 905208634 bytes (63.1%,   50.8s remaining)    Downloaded 571998208 of 905208634 bytes (63.2%,   51.3s remaining)    Downloaded 572317696 of 905208634 bytes (63.2%,   51.8s remaining)    Downloaded 572612608 of 905208634 bytes (63.3%,   52.3s remaining)    Downloaded 572882944 of 905208634 bytes (63.3%,   52.9s remaining)    Downloaded 573202432 of 905208634 bytes (63.3%,   53.4s remaining)    Downloaded 573521920 of 905208634 bytes (63.4%,   53.9s remaining)    Downloaded 574013440 of 905208634 bytes (63.4%,   54.4s remaining)    Downloaded 574619648 of 905208634 bytes (63.5%,   54.8s remaining)    Downloaded 575209472 of 905208634 bytes (63.5%,   55.2s remaining)    Downloaded 575930368 of 905208634 bytes (63.6%,   55.6s remaining)    Downloaded 576831488 of 905208634 bytes (63.7%,   55.9s remaining)    Downloaded 577896448 of 905208634 bytes (63.8%,   56.2s remaining)    Downloaded 579141632 of 905208634 bytes (64.0%,   56.5s remaining)    Downloaded 580542464 of 905208634 bytes (64.1%,   56.7s remaining)    Downloaded 582098944 of 905208634 bytes (64.3%,   56.8s remaining)    Downloaded 583843840 of 905208634 bytes (64.5%,   56.9s remaining)    Downloaded 584892416 of 905208634 bytes (64.6%,   57.1s remaining)    Downloaded 585261056 of 905208634 bytes (64.7%,   57.6s remaining)    Downloaded 585613312 of 905208634 bytes (64.7%,   58.0s remaining)    Downloaded 586006528 of 905208634 bytes (64.7%,   58.5s remaining)    Downloaded 586366976 of 905208634 bytes (64.8%,   58.9s remaining)    Downloaded 586817536 of 905208634 bytes (64.8%,   59.4s remaining)    Downloaded 587431936 of 905208634 bytes (64.9%,   59.7s remaining)    Downloaded 587997184 of 905208634 bytes (65.0%,  1.0min remaining)    Downloaded 588587008 of 905208634 bytes (65.0%,  1.0min remaining)    Downloaded 589201408 of 905208634 bytes (65.1%,  1.0min remaining)    Downloaded 589987840 of 905208634 bytes (65.2%,  1.0min remaining)    Downloaded 590938112 of 905208634 bytes (65.3%,  1.0min remaining)    Downloaded 592052224 of 905208634 bytes (65.4%,  1.0min remaining)    Downloaded 593330176 of 905208634 bytes (65.5%,  1.0min remaining)    Downloaded 594796544 of 905208634 bytes (65.7%,  1.0min remaining)    Downloaded 596049920 of 905208634 bytes (65.8%,  1.0min remaining)    Downloaded 596942848 of 905208634 bytes (65.9%,  1.0min remaining)    Downloaded 597794816 of 905208634 bytes (66.0%,  1.0min remaining)    Downloaded 598736896 of 905208634 bytes (66.1%,  1.0min remaining)    Downloaded 599670784 of 905208634 bytes (66.2%,  1.0min remaining)    Downloaded 600604672 of 905208634 bytes (66.3%,  1.1min remaining)    Downloaded 601661440 of 905208634 bytes (66.5%,  1.1min remaining)    Downloaded 602857472 of 905208634 bytes (66.6%,  1.1min remaining)    Downloaded 604217344 of 905208634 bytes (66.7%,  1.1min remaining)    Downloaded 605765632 of 905208634 bytes (66.9%,  1.1min remaining)    Downloaded 607461376 of 905208634 bytes (67.1%,  1.1min remaining)    Downloaded 609329152 of 905208634 bytes (67.3%,  1.1min remaining)    Downloaded 610705408 of 905208634 bytes (67.5%,  1.1min remaining)    Downloaded 611909632 of 905208634 bytes (67.6%,  1.1min remaining)    Downloaded 612769792 of 905208634 bytes (67.7%,  1.1min remaining)    Downloaded 613580800 of 905208634 bytes (67.8%,  1.1min remaining)    Downloaded 613965824 of 905208634 bytes (67.8%,  1.1min remaining)    Downloaded 614293504 of 905208634 bytes (67.9%,  1.1min remaining)    Downloaded 614801408 of 905208634 bytes (67.9%,  1.1min remaining)    Downloaded 615448576 of 905208634 bytes (68.0%,  1.1min remaining)    Downloaded 616284160 of 905208634 bytes (68.1%,  1.1min remaining)    Downloaded 617283584 of 905208634 bytes (68.2%,  1.1min remaining)    Downloaded 618438656 of 905208634 bytes (68.3%,  1.1min remaining)    Downloaded 619798528 of 905208634 bytes (68.5%,  1.1min remaining)    Downloaded 621789184 of 905208634 bytes (68.7%,  1.1min remaining)    Downloaded 624812032 of 905208634 bytes (69.0%,  1.1min remaining)    Downloaded 629088256 of 905208634 bytes (69.5%,  1.1min remaining)    Downloaded 635281408 of 905208634 bytes (70.2%,  1.0min remaining)    Downloaded 643465216 of 905208634 bytes (71.1%,  1.0min remaining)    Downloaded 648896512 of 905208634 bytes (71.7%,   58.8s remaining)    Downloaded 650444800 of 905208634 bytes (71.9%,   58.7s remaining)    Downloaded 650862592 of 905208634 bytes (71.9%,   58.9s remaining)    Downloaded 651378688 of 905208634 bytes (72.0%,   59.2s remaining)    Downloaded 652017664 of 905208634 bytes (72.0%,   59.4s remaining)    Downloaded 652500992 of 905208634 bytes (72.1%,   59.6s remaining)    Downloaded 652902400 of 905208634 bytes (72.1%,   59.9s remaining)    Downloaded 653443072 of 905208634 bytes (72.2%,  1.0min remaining)    Downloaded 654131200 of 905208634 bytes (72.3%,  1.0min remaining)    Downloaded 654991360 of 905208634 bytes (72.4%,  1.0min remaining)    Downloaded 656023552 of 905208634 bytes (72.5%,  1.0min remaining)    Downloaded 657227776 of 905208634 bytes (72.6%,  1.0min remaining)    Downloaded 658604032 of 905208634 bytes (72.8%,  1.0min remaining)    Downloaded 660144128 of 905208634 bytes (72.9%,  1.0min remaining)    Downloaded 662192128 of 905208634 bytes (73.2%,   59.8s remaining)    Downloaded 665231360 of 905208634 bytes (73.5%,   59.1s remaining)    Downloaded 669589504 of 905208634 bytes (74.0%,   58.1s remaining)    Downloaded 675676160 of 905208634 bytes (74.6%,   56.4s remaining)    Downloaded 683941888 of 905208634 bytes (75.6%,   54.0s remaining)    Downloaded 694894592 of 905208634 bytes (76.8%,   50.8s remaining)    Downloaded 709074944 of 905208634 bytes (78.3%,   46.7s remaining)    Downloaded 727097344 of 905208634 bytes (80.3%,   41.6s remaining)    Downloaded 749600768 of 905208634 bytes (82.8%,   35.5s remaining)    Downloaded 777297920 of 905208634 bytes (85.9%,   28.3s remaining)    Downloaded 810950656 of 905208634 bytes (89.6%,   20.1s remaining)    Downloaded 851329024 of 905208634 bytes (94.0%,   11.0s remaining)    Downloaded 897236992 of 905208634 bytes (99.1%,    1.6s remaining) ...done. (176 seconds, 2 min)
    Extracting data from /github/home/nilearn_data/oasis1/7088b0bf88f5650db26e32ec3afdd589/archive_dartel.tgz..... done.
    Downloading https://templateflow.s3.amazonaws.com/tpl-MNI152Lin/tpl-MNI152Lin_res-01_T1w.nii.gz
      0%|          | 0.00/10.7M [00:00<?, ?B/s]      1%|          | 71.7k/10.7M [00:00<00:19, 540kB/s]      3%|▎         | 368k/10.7M [00:00<00:06, 1.53MB/s]     14%|█▍        | 1.53M/10.7M [00:00<00:01, 4.81MB/s]     59%|█████▊    | 6.26M/10.7M [00:00<00:00, 16.9MB/s]    100%|██████████| 10.7M/10.7M [00:00<00:00, 17.1MB/s]






|

.. code-block:: Python

    import tempfile

    import junifer.testing.registry  # noqa: F401
    from junifer.api import run


    datagrabber = {
        "kind": "OasisVBMTestingDataGrabber",
    }

    markers = [
        {
            "name": "Schaefer1000x7_TrimMean80",
            "kind": "ParcelAggregation",
            "parcellation": "Schaefer1000x7",
            "method": "trim_mean",
            "method_params": {"proportiontocut": 0.2},
        },
        {
            "name": "Schaefer1000x7_Mean",
            "kind": "ParcelAggregation",
            "parcellation": "Schaefer1000x7",
            "method": "mean",
        },
        {
            "name": "Schaefer1000x7_Std",
            "kind": "ParcelAggregation",
            "parcellation": "Schaefer1000x7",
            "method": "std",
        },
    ]

    storage = {
        "kind": "SQLiteFeatureStorage",
    }

    with tempfile.TemporaryDirectory() as tmpdir:
        uri = f"{tmpdir}/test.sqlite"
        storage["uri"] = uri
        run(
            workdir="/tmp",
            datagrabber=datagrabber,
            markers=markers,
            storage=storage,
        )


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (40 minutes 14.240 seconds)


.. _sphx_glr_download_auto_examples_run_run_gmd_mean.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: run_run_gmd_mean.ipynb <run_run_gmd_mean.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: run_run_gmd_mean.py <run_run_gmd_mean.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: run_run_gmd_mean.zip <run_run_gmd_mean.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
